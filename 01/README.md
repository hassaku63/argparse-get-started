# Example 01

Example 00 をargparseを使った実装に書き換えた。

00では第一引数として扱っていた変数を、名前付き引数 `-m` (または `--message`) として提供する。  

## 解説

00で解説したデメリットは解消された。


(1) 引数の順序指定や名前などをコントロールできない

Example 01では、引数は '-m' または '--message' によって指定可能。

名前付き引数であるため、受け入れる引数の数が増えても指定順序に対してパース結果は影響を受けない。


(2) インタフェースとして使い勝手に欠ける

argparseはヘルプ出力の機能を備える。

開発者が何も意識しなくても、 _それなりの_ 見栄えのヘルプを生成してくれる。

> cd /path/to/this/directory
> python cli.py -h


## ポイント

- `ArgumentParser.add_argument` の最初の引数には、「今作っているCLIが、受け付ける引数」の名前を指定する
- 名前付き引数を受け付けたい場合、1つ以上の別名を割り当てることが可能(本例の場合は `-m` と `--message`)
- `dest` に指定した名前が、パースした後の参照名になる(位置引数の場合のみ)
- parse_argsによって、コマンドラインの入力引数を(add_argumentで指定したルールの通りに)パースする
- パースした結果、argparse.Namespace型のオブジェクトを得る。引数の参照はnamespaceオブジェクトのプロパティから行う
- `add_argument` を呼び出す際に `help` 引数に簡単な説明文を書いておくとユーザーフレンドリー